(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["domainView"],{"05ae":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEqADAAQAAAABAAAAEgAAAACaqbJVAAAApElEQVQ4EWNgGJng////yUD8CIg5yQ4BoOYUIP4HxHMpMQTkEpAh84CYiSyDgBoH1hBGmLNBLgGyZwPxDSCuAOJ/QEwIPGZkZLyIogho0BMgJhU8ghmC7CJ7oOBWIAZJhgLxFyAmBN4BXfQZQxHQOfZA/BWIDwExD4YCUgSABtgDMcwwblL0YqiltmEOUJcdANLwsMSwlRgBqMu2Aml2YtQPLjUAi43IabzistoAAAAASUVORK5CYII="},"09d9":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"echart",attrs:{id:"echart"}})},a=[],n={props:["time","info","predict","is_loss","select"],name:"Echart",data:function(){return{myChart:null}},mounted:function(){this.init()},methods:{getOption:function(){var t={grid:{top:0,left:0,right:0,bottom:0,containLable:!0},xAxis:{type:"category",axisLabel:{show:!1,minInterval:1},axisTick:{show:!1,inside:!0,alignWithLabel:!0},axisLine:{show:!1,lineStyle:{color:"#f3f8fb"}},data:this.time},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{inside:!1,formatter:"{value}\n"},splitLine:{show:!1},axisLine:{show:!1},min:function(t){return t.min},max:function(t){return t.max}},animation:!1,series:[{type:"line",smooth:"true",symbol:"none",symbolSize:3,silent:!0,animation:!1,itemStyle:{color:"#fff",shadowColor:"#c3d0fe",shadowBlur:6},lineStyle:{width:1,type:"solid",color:1===this.is_loss?"part"===this.select?"#fd9a56":"#970203":"#4a9eff"},areaStyle:{opcity:.2,color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:1===this.is_loss?"part"===this.select?"#fd9a56":"#ff4c4f":"#4a9eff"},{offset:1,color:"rgba(255,255,255,0)"}],global:!1}},data:this.info},{type:"line",smooth:"true",symbol:"none",symbolSize:3,silent:!0,animation:!1,itemStyle:{color:"#fff",shadowColor:"#c3d0fe",shadowBlur:6},lineStyle:{width:1,type:"dotted",color:1===this.is_loss?"part"===this.select?"#fd9a56":"#ff4c4f":"#4a9eff"},data:this.predict}]};return t},init:function(){this.myChart=this.$echarts.init(this.$refs.echart,null,{render:"canvas"}),this.myChart.setOption(this.getOption(),!0)}},beforeDestroy:function(){this.myChart.clear()},watch:{info:function(){this.myChart.setOption(this.getOption(),!0)}}},c=n,r=(i("c1ee"),i("2877")),o=Object(r["a"])(c,s,a,!1,null,"a6096166",null);e["a"]=o.exports},"25c4":function(t,e,i){},"38f0":function(t,e,i){},"793e":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"echart",attrs:{id:"echart"}})},a=[],n={props:["time","info","is_loss","select"],name:"Echart",data:function(){return{myChart:null}},mounted:function(){this.init()},methods:{getOption:function(){var t={grid:{top:0,left:0,right:0,bottom:0,containLable:!0},xAxis:{type:"category",axisLabel:{show:!1,minInterval:1},axisTick:{show:!1,inside:!0,alignWithLabel:!0},axisLine:{show:!1,lineStyle:{color:"#f3f8fb"}},data:this.time},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{inside:!1,formatter:"{value}\n"},splitLine:{show:!1},axisLine:{show:!1}},animation:!1,series:[{type:"bar",smooth:"true",symbol:"none",symbolSize:3,silent:!0,animation:!1,itemStyle:{color:1===this.is_loss?"part"===this.select?"#fd9a56":"#ff4c4f":"#4a9eff"},data:this.info}]};return t},init:function(){this.myChart=this.$echarts.init(this.$refs.echart,null,{render:"canvas"}),this.myChart.setOption(this.getOption(),!0)}},watch:{info:function(){this.myChart.setOption(this.getOption(),!0)}},beforeDestroy:function(){this.myChart.clear()}},c=n,r=(i("c212"),i("2877")),o=Object(r["a"])(c,s,a,!1,null,"0526c988",null);e["a"]=o.exports},"92d7":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"domainView",on:{click:t.closeOpen}},[s("div",{staticClass:"flex top"},[s("div",{staticClass:"flex"},[s("div",{staticClass:"pointer flex",on:{click:t.toBack}},[s("img",{staticClass:"back",attrs:{src:i("05ae")}}),s("span",{staticClass:"bac"},[t._v("返回")])]),s("div",{staticClass:"line"}),s("p",{staticClass:"title"},[t._v(t._s(t.arr.item_name))]),s("p",{staticClass:"num"},[t._v(t._s(t.arr.critical||t.arr.warning||0)+"/"+t._s(t.arr.total))])]),s("div",{staticClass:"flex select"},[s("div",{staticClass:"mr2 white"},[t._v("趋势图")]),t._l(t.slect,(function(e){return s("div",{key:e.key,staticClass:"flex mr2 pointer",class:{blue:t.selected===e.key},on:{click:function(i){return t.changeSelect(e.key,e.value)}}},[s("p",{staticClass:"circle"}),t._v(t._s(e.value)+" ")])})),s("div",{staticClass:"btn mr2 pointer",class:{bgblue:"1min"===t.time},on:{click:function(e){return t.changeTime("1min")}}},[t._v("1小时")]),s("div",{staticClass:"btn pointer",class:{bgblue:"10s"===t.time},on:{click:function(e){return t.changeTime("10s")}}},[t._v("10分钟")])],2)]),s("div",{staticClass:"box"},[s("div",{staticClass:"box_header flex"},[s("div",{staticClass:"img"}),s("div",{staticClass:"name"},[t._v("应用")]),s("div",{staticClass:"index flex"},[s("p",[t._v("指标")]),s("p",{staticClass:"btn",on:{click:t.getOver}},[t._v(t._s(t.text))])]),""===t.index?s("div",{staticClass:"chart"},[t._v("趋势图")]):"隐藏"!==t.index?s("div",{staticClass:"chart"},[t._v(t._s(t.index)+"趋势")]):s("div",{staticClass:"chart"}),s("div",{staticClass:"trade"},[t._v("交易率")]),s("div",{staticClass:"restime"},[t._v("响应时间")]),s("div",{staticClass:"xt"},[t._v("系统成功率")]),s("div",{staticClass:"yw"},[t._v("业务成功率")])]),t._l(t.arr.info,(function(e,a){return s("div",{key:""+a,staticClass:"box_main flex",staticStyle:{position:"relative"}},[s("div",{staticClass:"img pointer",on:{click:function(i){return i.stopPropagation(),t.changeOther(e.app_en)}}},[s("img",{attrs:{src:i("cbd1"),alt:""}})]),t.openOther===e.app_en?s("list-pop",{attrs:{arr:t.other_list}}):t._e(),s("p",{staticClass:"name pointer",on:{click:function(i){return t.changePopur(e.app_en,e.app_type)}}},[t._v(t._s(e.target_name))]),s("div",t._l(e.total_list,(function(i){return s("div",{key:i.target_id,staticClass:"box_2 flex"},[s("div",{staticClass:"index flex"},[s("p",{staticClass:"mr12 pointer",class:{red:1===i.critical},on:{click:function(s){return t.changePopur(e.app_en,e.app_type,i.target_id)}}},["JD"===i.location?s("span",{staticClass:"squre"},[t._v("嘉")]):t._e(),"WGQ"===i.location?s("span",{staticClass:"squre w"},[t._v("外")]):t._e(),"XSQ"===i.location?s("span",{staticClass:"squre x"},[t._v("西")]):t._e(),"ALL"===i.location?s("span",{staticClass:"squre n"}):t._e(),t._v(" "+t._s(i.name)+" ")]),t._l(i.desc,(function(e,i){return s("p",{key:""+a+i,staticClass:"white"},[s("span",{staticClass:"c",style:{background:e.colour}}),t._v(t._s(e.info))])})),s("div",[i.desc1?s("p",{staticClass:"moregray pointer",on:{click:function(e){return e.stopPropagation(),t.changeDesc(i.target_id)}}},[t._v("...")]):t._e(),i.desc1&&t.descPop===i.target_id?s("Pop",t._l(i.desc1,(function(e,i){return s("p",{key:i,staticClass:"mb1 white"},[s("span",{staticClass:"c",style:{background:e.colour}}),t._v(t._s(e.info))])})),0):t._e()],1)],2),"隐藏"!==t.index?s("div",{staticClass:"chart"},["restime"!==i.index?s("echart",{attrs:{time:i.time_list,info:i.info_list,predict:i.predict_list,is_loss:i[i.index]?i[i.index].critical:0}}):s("bar",{attrs:{time:i.time_list,info:i.info_list,is_loss:i[i.index]?i[i.index].critical:0}})],1):s("div",{staticClass:"chart"}),i.trade?s("div",{staticClass:"trade",class:{red:1===i.trade.critical}},[t._v(t._s(i.trade.value))]):t._e(),i.restime?s("div",{staticClass:"restime",class:{red:1===i.restime.critical}},[t._v(t._s(i.restime.value))]):t._e(),i.succxt?s("div",{staticClass:"xt",class:{red:1===i.succxt.critical}},[t._v(t._s(i.succxt.value))]):t._e(),i.succyw?s("div",{staticClass:"yw",class:{red:1===i.succyw.critical}},[t._v(t._s(i.succyw.value))]):t._e()])})),0)],1)}))],2),s("el-pagination",{attrs:{layout:"prev, pager, next","current-page":t.page,"page-size":10,"hide-on-single-page":"",total:t.arr.total},on:{"current-change":t.changePage}})],1)},a=[],n=i("1da1"),c=(i("96cf"),i("d10b")),r=i("e15d"),o=i("09d9"),l=i("793e"),A=i("4ec3"),h=i("1a1e"),u={name:"DomainView",components:{Pop:c["a"],echart:o["a"],ListPop:r["a"],Bar:l["a"]},data:function(){return{slect:[{key:"yc",value:"隐藏"},{key:"trade",value:"交易率"},{key:"restime",value:"响应时间"},{key:"succxt",value:"系统成功率"},{key:"succyw",value:"业务成功率"}],selected:"trade",index:"",time:"1min",text:"查看其余总量",page:1,arr:[],id:"",other_list:[],openOther:"",descPop:"",timer:null}},computed:{domainId:function(){return this.$store.getters.getDomainId}},mounted:function(){h["a"].get("doaminViewId")&&this.$store.dispatch("changeDomainIdAsync",h["a"].get("doaminViewId"));var t=h["a"].get("viewInfo");t&&(this.page=t.page),this.getArr(),h["a"].remove("viewInfo")},methods:{changeDesc:function(t){this.descPop===t?this.descPop="":this.descPop=t},changeOther:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.openOther===t?e.openOther="":e.openOther=t,i.next=3,Object(A["u"])({app_en:e.openOther}).then((function(t){e.other_list=t.data}));case 3:case"end":return i.stop()}}),i)})))()},getArr:function(t){var e=this;this.timer&&(clearTimeout(this.timer),this.timer=null);var i=""!==this.index?this.selected:this.index;Object(A["s"])({item:this.domainId,time_frame:this.time,index:i,page:this.page,page_num:10,sign:t}).then((function(t){e.arr=t.data})),this.timer=setTimeout((function(){e.getArr(t)}),1e4)},changePopur:function(t,e,i){this.$store.dispatch("changeTargetListAsync",{app_en:t,app_type:e,target_id:i}),h["a"].set("viewInfo",{app_en:t,app_type:e,target_id:i,page:this.page}),this.$router.push("/view")},changePage:function(t){this.page=t,this.getArr()},changeSelect:function(t,e){this.selected=t,this.index=e,this.getArr()},changeTime:function(t){this.time=t,this.getArr()},getOver:function(){"隐藏其余总量"===this.text?(this.text="查看其余总量",this.getArr()):(this.text="隐藏其余总量",this.getArr(123))},closeOpen:function(){this.descPop="",this.openOther=""},toBack:function(){this.$router.back()}},watch:{domainId:function(){this.descPop="",this.openOther="",this.page=1,this.text="查看其余总量",this.getArr()}},beforeDestroy:function(){clearTimeout(this.timer),this.timer=null}},p=u,d=(i("e309"),i("2877")),f=Object(d["a"])(p,s,a,!1,null,"12c7d4f6",null);e["default"]=f.exports},af78:function(t,e,i){},bcc3:function(t,e,i){},c1ee:function(t,e,i){"use strict";i("bcc3")},c212:function(t,e,i){"use strict";i("38f0")},cbd1:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAADqADAAQAAAABAAAADgAAAAC98Dn6AAABH0lEQVQoFX3SPyjEURwAcJ0r12GQHSERVxgMNpPRZFEyKLPJIpOFutHCxkAGq2QymXSlpMilQyejRQZ1Pu/6PZ1z59Wn9/137/3uftfS0mRVKpV2Mk3af8uGsxzySIk90vWTqfqCfIM3+hOt9lX+X06/oidOiXOcxTzujW4saebiQBI/1eSNQ6eP8c4mW0ncVz/d6MZxQ5eUKVJggubL6eEVFBmIU+JR7mmLtequkGKdAnfs/xqQqJ3wwC3hK6RDcZsDepnkhp9HE09xzTDd7JIPH3whG28RL3LEbOLYvlDTz8ifwz/ii/D8H0mz0z5EHB4UdyW9sHXwGW5c45xp5ikThqsrxLyyzAwXrMTmkuSUHWpffuyPqOcJv8VcKH4DZ1wRQrgup7cAAAAASUVORK5CYII="},e15d:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pop"},[t._l(t.arr,(function(e,s){return i("div",{key:s},[i("div",{staticClass:"title flex"},[i("p",{staticClass:"name"},[t._v(t._s(e.title))]),"相关重点业务场景"!=e.title?i("div",{staticClass:"flex"},[t._m(0,!0),i("p",{staticClass:"fg"},[t._v("/")]),t._m(1,!0)]):t._e()]),i("div",{staticClass:"list"},t._l(e.info_list,(function(s){return i("p",{key:s.item,staticClass:"li flex",class:{pink:0===s.critical&&s.rcv>0,orange:0===s.critical&&s.warning>0,red:s.critical>0},on:{click:function(i){return t.toDetail(e.title,s.item)}}},[i("span",{staticClass:"mr2"},[i("span",{staticClass:"circle5",class:{pink:0===s.critical&&s.rcv>0,orange:0===s.critical&&s.warning>0,red:s.critical>0}}),t._v(t._s(s.name))]),"相关重点业务场景"!=e.title?i("span",[t._v(t._s(s.critical||s.warning||s.rcv)+"/"+t._s(s.sum_count))]):t._e()])})),0)])})),null!==t.arr&&0===t.arr.length?i("div",{staticClass:"name"},[t._v("未在其他域、场景中出现该应用")]):t._e()],2)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("报警应"),i("br"),t._v("用数")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("全部应"),i("br"),t._v("用数")])}],n=i("1a1e"),c={name:"ListPop",props:["arr"],methods:{toDetail:function(t,e){if("相关重点业务场景"===t){if(this.$store.dispatch("changePointIdAsync",e),n["a"].set("pointViewId",e),"/pointView"===this.$route.path)return;this.$router.push("/pointView")}else{if(this.$store.dispatch("changeDomainIdAsync",e),n["a"].set("doaminViewId",e),"/domainView"===this.$route.path)return;this.$router.push("/domainView")}}}},r=c,o=(i("e29e"),i("2877")),l=Object(o["a"])(r,s,a,!1,null,"0008146e",null);e["a"]=l.exports},e29e:function(t,e,i){"use strict";i("25c4")},e309:function(t,e,i){"use strict";i("af78")}}]);